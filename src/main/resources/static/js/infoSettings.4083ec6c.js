(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["infoSettings"],{"01f7":function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"account-settings-info-view"},[t("a-row",{attrs:{gutter:16}},[t("a-col",{attrs:{md:20}},[t("a-form",{attrs:{form:a.form}},[t("a-form-item",a._b({attrs:{label:"姓名"}},"a-form-item",a.formLayout,!1),[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nickname",{rules:[{required:!0,message:"请输入姓名!"}]}],expression:"['nickname',{ rules: [{ required: true, message: '请输入姓名!' }]}]"}],attrs:{placeholder:"给自己起个名字"}})],1),t("a-form-item",a._b({attrs:{label:"头像"}},"a-form-item",a.formLayout,!1),[t("a-upload",{staticClass:"avatar-uploader",attrs:{name:"file",listType:"picture-card",headers:a.uploadHeaders,showUploadList:!1,action:a.fileServer+"/file/upload",beforeUpload:a.handleBeforeUpload},on:{change:a.handleUploadChange}},[t("a-tooltip",{attrs:{placement:"right",title:"点击上传"}},[""!==a.avatar?t("img",{attrs:{src:this.fileServer+"/"+this.avatar,width:"100px",alt:"头像"}}):t("div",[t("a-icon",{attrs:{type:a.avatarLoading?"loading":"plus"}}),t("div",{staticClass:"ant-upload-text"},[a._v("上传")])],1)])],1)],1),t("a-form-item",a._b({attrs:{label:"简介"}},"a-form-item",a.formLayout,!1),[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["intro"],expression:"['intro' ]"}],attrs:{rows:"4",placeholder:"You are not alone."}})],1),t("a-form-item",a._b({attrs:{label:"手机"}},"a-form-item",a.formLayout,!1),[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{validateFirst:!0,rules:[{required:!0,message:"请输入电话号码!"},{pattern:/^[1][3,4,5,6,7,8,9][0-9]{9}$/,message:"请输入格式正确的手机号"}]}],expression:"['phone',{validateFirst: true, rules: [{ required: true, message: '请输入电话号码!' },\n                                                                {pattern: /^[1][3,4,5,6,7,8,9][0-9]{9}$/, message: '请输入格式正确的手机号'}\n            ]} ]"}],attrs:{placeholder:"15238002477"}})],1),t("a-form-item",a._b({attrs:{label:"电子邮件"}},"a-form-item",a.formLayout,!1),[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{validateFirst:!0,rules:[{required:!0,message:"请输入电子邮箱地址!"},{pattern:/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,message:"请输入格式正确的邮箱地址"}]}],expression:"['email',{validateFirst: true, rules: [{ required: true, message: '请输入电子邮箱地址!' },\n                                                                {pattern: /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/, message: '请输入格式正确的邮箱地址'}\n            ]} ]"}],attrs:{placeholder:"exp@admin.com"}})],1),t("a-form-item",[t("a-row",[t("a-col",{attrs:{xs:24,sm:4}}),t("a-col",{attrs:{xs:24,sm:19}},[t("a-button",{attrs:{type:"primary",loading:a.btnLoading},on:{click:a.handleBtnClick}},[a._v("保存")])],1)],1)],1)],1)],1)],1)],1)},i=[],o=(t("d3b7"),t("8bbf")),s=t.n(o),n=t("9fb0"),l=t("5723"),d=t("4360"),m={name:"Info",data:function(){return{form:this.$form.createForm(this),formLayout:{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:19}}},avatarLoading:!1,btnLoading:!1,avatar:"",uploadHeaders:{authorization:s.a.ls.get(n["a"])}}},created:function(){this.initUserInfo()},methods:{initUserInfo:function(){var a=this,e=this.$store.getters.userInfo;this.avatar=e.avatar,this.$nextTick((function(){a.form.setFieldsValue({nickname:e.nickname,phone:e.phone,email:e.email,intro:e.intro})}))},handleUploadChange:function(a){var e=this;if("uploading"===a.file.status)return this.avatarLoading=!0,void(this.avatar="");"done"===a.file.status&&setTimeout((function(){e.avatarLoading=!1,a.file.response.status&&(e.avatar=a.file.response.data)}),100)},handleBeforeUpload:function(a){var e="image/jpeg"===a.type,t="image/png"===a.type;e||t||this.$message.error("仅能上传  JPG/PNG 文件!");var r=a.size/1024/1024<2;return r||this.$message.error("上传文件必须小于 2MB!"),(e||t)&&r},handleBtnClick:function(){var a=this;this.form.validateFields((function(e,t){e||(t.avatar=a.avatar,a.btnLoading=!0,Object(l["h"])(t).then((function(a){a.status&&d["a"].dispatch("GetInfo").then((function(a){})).catch((function(){}))})).finally((function(){a.btnLoading=!1})))}))}}},u=m,c=t("2877"),f=Object(c["a"])(u,r,i,!1,null,"3fa0ed3d",null);e["default"]=f.exports}}]);